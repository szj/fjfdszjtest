<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>考试排行榜</title>
     <link href="../../../../Lib/ligerUI/skins/Silvery/css/ligerui-common.css" rel="stylesheet" type="text/css" /> 
    <link href="../../../../Lib/ligerUI/skins/Silvery/css/ligerui-dialog.css" rel="stylesheet" type="text/css" />
    <link href="../../../../Lib/ligerUI/skins/Silvery/css/ligerui-grid.css" rel="stylesheet"  type="text/css" />
    <link href="../../../../Lib/ligerUI/skins/Silvery/css/ligerui-form.css" rel="stylesheet" type="text/css" />
    <link href="../../../../Lib/ligerUI/skins/ligerui-icons.css" rel="stylesheet" type="text/css" />
    <script src="../../../../Lib/jquery/jquery-1.3.2.min.js" type="text/javascript"></script>
    <script src="../../../../Lib/ligerUI/js/ligerui.all.js" type="text/javascript"></script>  
    <script src="../../../../Content/Lib/js/common.js" type="text/javascript"></script>

    <script type="text/javascript">
        //debugger; 调试时使用
        var gridManager = null;
        var activeDialog = null;
        function f_openWindow(url, title, width, height) {
            var dialogOptions = { width: width, height: height, title: title, url: url, buttons: [
            { text: '保存', onclick: function (item, dialog) {
                dialog.frame.f_save(); //f_save调用的是弹出框调用页的方法
                dialog.close(); //关闭添加窗口
                f_reload(); //刷新数据
            }
            },
            { text: '关闭', onclick: function (item, dialog) {
                dialog.close();
            }
            }
            ], isResize: true, timeParmName: 'a'
            };
            activeDialog = parent.jQuery.ligerDialog.open(dialogOptions);
        }

        function f_closeWindow(reload) {
            activeDialog && activeDialog.close();
            reload && f_reload();
        }

        //初始化列表
        $(function () {
            f_setGrid();
        });

        //设置列表
        function f_setGrid() {
            gridManager = $("#maingrid").ligerGrid({
                columns: [
                { display: '名次', name: 'Ranking', align: 'left', width: 130, minWidth: 60 },
                { display: '编号', name: 'Number', align: 'left', width: 130, minWidth: 60 },
                { display: '姓名', name: 'Name', align: 'left', width: 130, minWidth: 60 },
                { display: '总得分', name: 'TheTotalScore', align: 'left', width: 130, minWidth: 60 },
                { display: '是否及格', name: 'IsPassing', align: 'left', width: 130, minWidth: 60 }
                ], dataAction: 'server',
                url: "/Exam/Achievement/GridPager/",
                sortName: 'id',
                width: '99%',
                height: '100%',
                pageSize: 30,
                checkbox: true,
                heightDiff: -9,
                onError: function (a, b) {
                    debugger
                }
            });
        }

        function f_reload() {
            gridManager && gridManager.loadData(true);
        }
    </script>
    <style type="text/css"> 
        #maingrid{ margin:0 auto;}
        #toolbar{margin:2px auto;width:99%; background:#F3F8F9;border: 1px solid #B6D3E0; height:30px; line-height:30px;}
        #toolbar .l-toolbar-item{ margin-top:4px;}
    </style>
</head>
<body>
    <form id="form1" runat="server">
    <div style="text-align:center">时长:分钟 总分:分 参考人数:位 本人位于:第名 </div>
    <div id="maingrid"></div>
    </form>
</body>
</html>
