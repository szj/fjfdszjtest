@model QzgfFrame.Resources.EquipFaultManger.Models.ResourceEquipFault
@{
    
    ViewBag.Title = "Register";
}    
<script src="@Url.Content("~/Content/lib/js/Resources/SelfHelpEquipFault.js")" type="text/javascript"></script>
<script src="@Url.Content("~/lib/json2.js")" type="text/javascript"></script> 
<script src="@Url.Content("~/Lib/jquery/jquery.autoSearchText.js")" type="text/javascript"></script> 
<div id="autoSearch"><ul class="menu_v"></ul></div>
@using (Html.BeginForm("Edit", "EquipFault", FormMethod.Post, new { name = "newForm", id = "newForm" }))
{  @Html.ValidationSummary(true, "Account creation was unsuccessful. Please correct the errors and try again.")
    <div>
        <table cellpadding="0" border="0" cellspacing="0" class="edittable">
            <tbody>
                <tr>                    
                    <td class="Right_font">终端ID：<span class="l-verify-star">*</span></td>
                    <td class="Left_font" style="width:40%">
                    <table style="width:100%"><tr><td>        
                     @Html.TextBoxFor(m => m.TermiId, new { maxlength = "8", @class = "dd-text", validate = "{required:true,minlength:8,maxlength:8,number:true}", onblur = "getTerimNo(this.value);" })
                     @Html.HiddenFor(m => m.SelfHelpEquipId)</td><td id="showTerim" style="width:75%; text-align:left; color:red"></td>
                   </tr></table>
                    </td> <td class="Right_font">所属县市：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                     <input type="hidden" id="frameid" name="frameid" value="@ViewData["frameid"]" />
                    @Html.TextBoxFor(m => m.DistrictName, new { @class = "disable-dd-text", style = "width:138px;", @readonly = "readonly", validate = "{required:true,minlength:1,maxlength:40}" }) 
                    @Html.HiddenFor(m => m.DistrictId)  
                    </td>
                </tr>
                <tr>
                   <td class="Right_font">网点编号：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                     @Html.TextBoxFor(m => m.UseNetNo, new { maxlength = "7", @class = "disable-dd-text", style = "width:138px;", @readonly = "readonly", validate = "{required:true,minlength:7,maxlength:7,number:true}" }) 
                       
                    </td>
                    <td class="Right_font">网点名称：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                     @Html.TextBoxFor(m => m.UseNetName, new { @class = "disable-dd-text", style = "width:180px;", @readonly = "readonly", validate = "{required:true}" }) 
                       
                    @Html.HiddenFor(m => m.Id)     
                    </td>
                   
                </tr>
                
                <tr>
                    <td class="Right_font">设备厂家：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                     @Html.TextBoxFor(m => m.FactoryName, new { @class = "disable-dd-text", style = "width:138px;", @readonly = "readonly", validate = "{required:true}" }) 
                    @Html.HiddenFor(m => m.FactoryId)  
                    </td> 
                     <td class="Right_font">设备型号：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                    @Html.TextBoxFor(m => m.EquipModelName, new { @class = "disable-dd-text", style = "width:138px;", @readonly = "readonly", validate = "{required:true}" })  
                    
                    </td> 
                </tr>
                <tr>
                <td class="Right_font">客户联系电话：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                   @Html.TextBoxFor(m => m.ClieTel, new { maxlength = "12", @class = "dd-text", style = "width:138px;", validate = "{required:true,isPhone: true}" })
                    </td>
                     <td class="Right_font">代维单位：<span class="l-verify-star">*</span></td>
                    <td class="Left_font" colspan="4">
                     @Html.DropDownList("CompanyId", (SelectList)ViewData["company"], new { style = "width:135px", ltype = "select" })
                    </td> 
                    
                </tr>  
                 <tr><td colspan="6" class="tit">故障信息</td></tr>
                 <tr>
                    <td class="Right_font">申告日期：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                     @Html.TextBoxFor(m => m.NoticeDateTime, new { @class = "dd-text", style = "width:138px;", validate = "{required:true}", onfocus = "WdatePicker({dateFmt:'yyyy-M-dd HH:mm',onpicked: times}); " })
                    </td>
                    <td class="Right_font">人员到达时间：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                    @Html.TextBoxFor(m => m.ReachDatetime, new { @class = "dd-text", style = "width:138px;", validate = "{required:true}", onfocus = "WdatePicker({dateFmt:'yyyy-M-dd HH:mm'}); " })
                    </td> 
                </tr> 
                 <tr>
                    <td class="Right_font">故障解决时间：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                    @Html.TextBoxFor(m => m.SolveDatetime, new { @class = "dd-text", style = "width:138px;", validate = "{required:true}", onfocus = "WdatePicker({dateFmt:'yyyy-M-dd HH:mm',onpicked: times}); " })
                    </td>
                    <td class="Right_font">处理时长：<span class="l-verify-star">*</span></td>
                    <td class="Left_font"><table style="width:100%"><tr> <td>
                    @Html.TextBoxFor(m => m.HandleTime, new { @readonly = "readonly", @class = "dd-text", style = "width:138px;", validate = "{required:true,digits:true}" })
    </td><td style="width:65%; text-align:left;">分钟</td></tr></table>
                    </td>
                </tr> 
                 <tr>
                    <td class="Right_font">排障人员：<span class="l-verify-star">*</span></td>
                    <td class="Left_font" colspan="4">
                    @Html.TextBoxFor(m => m.TroubleShooter, new { maxlength = "20", @class = "dd-text", style = "width:138px;", validate = "{required:true,minlength:1,maxlength:20,isMFullName:true}" })
                    </td>
                </tr> 
                 <tr>
                    <td class="Right_font">故障部件：<span class="l-verify-star">*</span></td>
                     
                    <td class="Left_font">
                    @Html.DropDownList("ComponentId", (SelectList)ViewData["components"], new {  ltype = "select" })
                    </td> 
                    <td class="Right_font">故障类型：<span class="l-verify-star">*</span></td>
                    <td class="Left_font">
                    @Html.DropDownList("BreakdownTypeId", (SelectList)ViewData["breakdownTypes"], new { style = "width:135px", ltype = "select" })
                    </td> 
                </tr>
                <tr>
                    <td class="Right_font">故障现象：<span class="l-verify-star">*</span></td>
                    <td class="Left_font" colspan="3">
                    @Html.TextAreaFor(m => m.Description, new { Multiline = true, @class = "l-textarea", size = "80", style = "width:100%", ltype = "text", validate = "{required:true,minlength:0,maxlength:100}" })
                    </td> 
                </tr>  
                 <tr>
                    <td class="Right_font">故障处理过程：<span class="l-verify-star">*</span></td>
                    <td class="Left_font" colspan="3">
                    @Html.TextAreaFor(m => m.HandleProcess, new { Multiline = true, @class = "l-textarea", size = "80", style = "width:100%", ltype = "text", validate = "{required:true,minlength:0,maxlength:100}" })
                    </td> 
                </tr> 
                <tr>
                    <td class="Right_font">故障处理结果：<span class="l-verify-star">*</span></td>
                    <td class="Left_font" colspan="3">
                    @Html.TextAreaFor(m => m.HandleResult, new { Multiline = true, @class = "l-textarea", size = "80", style = "width:100%", ltype = "text", validate = "{required:true,minlength:0,maxlength:100}" })
                    </td> 
                </tr> 
                 <tr>
                    <td class="Right_font">是否更换配件：<span class="l-verify-star">*</span></td>
                     
                    <td class="Left_font" colspan="3">
                     @{
               var selFalgT = false; var selFalgF = false;
               if (Model.IsReplace == 1)
               {
                   selFalgT = true;
                   selFalgF = false;
               }
               else
               {
                   selFalgT = false;
                   selFalgF = true;
               }
                    }
                    @Html.RadioButton("IsReplace", "1", selFalgT)是
                    @Html.RadioButton("IsReplace", "0", selFalgF)否
                    </td> 
                    
                </tr> 
                <tr>
                    <td class="Right_font">备注：</td>
                    <td class="Left_font" colspan="3">
                    @Html.TextAreaFor(m => m.Remark, new { Multiline = true, @class = "l-textarea", size = "80", style = "width:100%", ltype = "text", validate = "{required:false,minlength:0,maxlength:100}" })
                    </td> 
</tr></tbody>
</table>  
<table width="100%"><tr><td style="width:45%"></td>
<td><input type="submit" value="提 交" id="Button1" class="l-button l-button-submit" /> 
<input type="button" value="返 回" class="l-button l-button-test" onclick="javascript:f_windowclose();"/></td></tr></table>                  
   
                
    </div> 
    }
    
