<!--高级查询专用-->
<head>
<link type="text/css" rel="stylesheet" href="@Url.Content("~/Lib/highquery/style.css")"/>
<script src="@Url.Content("~/Lib/highquery/highquery.js")" type="text/javascript"></script>
</head>
<script type="text/javascript">
<!--
    $.getJSON('/Archives/Company/GetCombobox/', { Rnd: Math.random() }, function (data) {
        for (var i = 0; i < data.length; i++) {
            DictList.add(new Dict('SelCompany', '公司', data[i].text, data[i].id));
        }
    });
    $.getJSON('/Archives/District/GetSearchCombobox/', { Rnd: Math.random() }, function (companydata) {
        for (var j = 0; j < companydata.length; j++) {
            DictList.add(new Dict('SelDistrict', '区县', companydata[j].text, companydata[j].id));
        }
    });

    DictList.add(new Dict('StateCode', '在线', '在线', '0'));
    DictList.add(new Dict('StateCode', '退网', '退网', '1'));
    // 字段信息
    FieldList.add(new Field('main.EquipModelName', '设备型号', 'varchar', '100', '', ''));
    FieldList.add(new Field('main.State', '状态', 'varchar', '2', 'StateCode', ''));
    FieldList.add(new Field('clie.ClieNo', '客户编号', 'varchar', '100', '', ''));
    FieldList.add(new Field('clie.ClieName', '客户名称', 'varchar', '100', '', ''));
    FieldList.add(new Field('main.CompanyId', '所属公司', 'varchar', '20', 'SelCompany', ''));
    FieldList.add(new Field('main.DistrictId', '所属区县', 'varchar', '20', 'SelDistrict', ''));
    FieldList.add(new Field('', '请选择一个字段', '', '0', '', '')); // 空白，必须是最后加入
    // 初始化
    initHighQuery();

    //导出查询
    function f_excelout(frameid) {
        var arrReturn = interpreter();
        //提交数据
        var gridsearch = "";
        if (arrReturn[1] != "") {
            gridsearch = " and " + arrReturn[1];
        }
        window.location.href = "/Resources/Equipment/GetExcelOut/?gridsearch=" + escape(gridsearch);
    }
    //导出全部
    function f_excelallout(frameid) {
        var arrReturn = interpreter();
        //提交数据
        var gridsearch = "";
        window.location.href = "/Resources/Equipment/GetExcelOut/?gridsearch=" + escape(gridsearch);
    }
    //查询信息
    function f_save(frameid) {
        if (frameid == "qzgfframenull")
            frameid = "qzgfframe" + $("#frameid").val();
        $.ligerDialog.waitting("正在查询中...");
        var arrReturn = interpreter();
        //提交数据
        var gridsearch = "";
        if (arrReturn[1] != "") {
            gridsearch = " and " + arrReturn[1];
        }
        f_find(parent.window.frames[frameid].gridManager, gridsearch);
        $.ligerDialog.closeWaitting();
    }  
//-->
</script>
<input type="hidden" id="frameid" name="frameid" value="@ViewData["frameid"]" />